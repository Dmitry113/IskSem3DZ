Урок 3. Продвинутая работа с исключениями в Java

Напишите приложение, которое будет запрашивать у пользователя следующие данные в произвольном порядке, разделенные пробелом:
Фамилия Имя Отчество датарождения номертелефона пол

Форматы данных:
фамилия, имя, отчество - строки
датарождения - строка формата dd.mm.yyyy
номертелефона - целое беззнаковое число без форматирования
пол - символ латиницей f или m.

Приложение должно проверить введенные данные по количеству. Если количество не совпадает с требуемым, вернуть код ошибки, обработать его и показать пользователю сообщение, что он ввел меньше и больше данных, чем требуется.

Приложение должно попытаться распарсить полученные значения и выделить из них требуемые параметры. Если форматы данных не совпадают, нужно бросить исключение, соответствующее типу проблемы. Можно использовать встроенные типы java и создать свои. Исключение должно быть корректно обработано, пользователю выведено сообщение с информацией, что именно неверно.

Если всё введено и обработано верно, должен создаться файл с названием, равным фамилии, в него в одну строку должны записаться полученные данные, вида

<Фамилия><Имя><Отчество><датарождения> <номертелефона><пол>

Однофамильцы должны записаться в один и тот же файл, в отдельные строки.

Не забудьте закрыть соединение с файлом.

При возникновении проблемы с чтением-записью в файл, исключение должно быть корректно обработано, пользователь должен увидеть стектрейс ошибки.

    Домашняя работа

Приложения UserDataApp

Описание
UserDataApp — это консольное приложение на языке Java, предназначенное для ввода пользовательских данных, их проверки и записи в файл. Приложение запрашивает у пользователя ввод данных в определенном формате, проверяет корректность ввода и сохраняет данные в текстовый файл, имя которого формируется на основе фамилии пользователя.

Классы и их назначение
1. UserDataApp
Основной класс приложения, содержащий метод main, который запускает программу. Этот класс выполняет следующие задачи:

Запрашивает ввод данных у пользователя.
Парсит и валидирует введенные данные.
Записывает данные в файл.
Обрабатывает возможные исключения и ошибки.
Основные методы:
public static void main(String[] args): Главный метод приложения. Запрашивает ввод данных у пользователя, вызывает методы для их обработки и записи, а также обрабатывает исключения.

private static String[] parseUserData(String input) throws InvalidDataFormatException, InvalidNumberOfArgumentsException: Метод для парсинга и проверки введенных данных. Разделяет строку ввода на части, проверяет их корректность и возвращает массив строк.

private static void writeDataToFile(String[] data) throws IOException: Метод для записи данных в файл. Формирует имя файла на основе фамилии пользователя и записывает данные в текстовый файл с указанием кодировки UTF-8.

2. InvalidDataFormatException
Класс кастомного исключения, который используется для обработки ошибок формата данных. Например, когда введенные данные не соответствуют ожидаемому формату даты или номер телефона содержит недопустимые символы.

Основной конструктор:
public InvalidDataFormatException(String message): Конструктор, принимающий сообщение об ошибке.
3. InvalidNumberOfArgumentsException
Класс кастомного исключения, который используется для обработки ошибок, связанных с неверным количеством введенных аргументов. Например, когда введено больше или меньше данных, чем ожидается.

Основной конструктор:
public InvalidNumberOfArgumentsException(String message): Конструктор, принимающий сообщение об ошибке.

Примечания
Убедитесь, что данные вводятся в корректном формате и разделены пробелами.
Файл будет создан в текущем рабочем каталоге, и его имя будет формироваться на основе фамилии пользователя.



Примеры Ввода данных в приложение:

Пример 1: Корректный ввод данных
Ввод:
Smith John Alexander 15.06.1985 89123456789 m

Вывод:
Введенные данные: 'Smith John Alexander 15.06.1985 89123456789 m'
Parsed data:
Part 0: 'Smith'
Part 1: 'John'
Part 2: 'Alexander'
Part 3: '15.06.1985'
Part 4: '89123456789'
Part 5: 'm'
Имя файла для записи: Smith.txt
Данные успешно записаны.

Пример 2: Некорректное количество данных
Ввод:
Johnson Emily 1985-06-15 89123456789 f

Вывод:
Введенные данные: 'Johnson Emily 1985-06-15 89123456789 f'
Parsed data:
Part 0: 'Johnson'
Part 1: 'Emily'
Part 2: '1985-06-15'
Part 3: '89123456789'
Part 4: 'f'
Ошибка: Введено неверное количество данных. Ожидалось 6 элементов.

Пример 3: Неверный формат даты
Ввод:
Brown Michael James 1985-06-15 89123456789 m

Вывод:
Введенные данные: 'Brown Michael James 1985-06-15 89123456789 m'
Parsed data:
Part 0: 'Brown'
Part 1: 'Michael'
Part 2: 'James'
Part 3: '1985-06-15'
Part 4: '89123456789'
Part 5: 'm'
Ошибка: Неверный формат даты. Ожидалось: dd.MM.yyyy

Пример 4: Неверный формат номера телефона
Ввод:
Taylor Jane Elizabeth 15.06.1985 abcdefg m

Вывод:
Введенные данные: 'Taylor Jane Elizabeth 15.06.1985 abcdefg m'
Parsed data:
Part 0: 'Taylor'
Part 1: 'Jane'
Part 2: 'Elizabeth'
Part 3: '15.06.1985'
Part 4: 'abcdefg'
Part 5: 'm'
Ошибка: Номер телефона должен содержать только цифры.

Пример 5: Неверный формат пола
Ввод:
Miller George William 15.06.1985 89123456789 X

Вывод:
Введенные данные: 'Miller George William 15.06.1985 89123456789 X'
Parsed data:
Part 0: 'Miller'
Part 1: 'George'
Part 2: 'William'
Part 3: '15.06.1985'
Part 4: '89123456789'
Part 5: 'X'
Ошибка: Пол должен быть указан как 'f' или 'm'.
